<div id="myStatusBanner" style="padding: 10px; margin-bottom: 20px; border-radius: 8px; background: #eee; display: flex; align-items: center; justify-content: space-between;">
    <div>
        <span id="myStatusDot" style="height: 12px; width: 12px; background-color: #bbb; border-radius: 50%; display: inline-block; margin-right: 10px;"></span>
        <strong>MCP Server Status:</strong> <span id="myStatusText">Checking...</span>
    </div>
    <small id="myServerMsg" style="color: #666;"></small>
</div>

<script>
    async function myCheckServerStatus() {
        const myDot = document.getElementById('myStatusDot');
        const myText = document.getElementById('myStatusText');
        const myMsg = document.getElementById('myServerMsg');

        try {
            // Try to fetch from our local health port
            const myResponse = await fetch('http://localhost:3000', { mode: 'cors' });
            const myData = await myResponse.json();

            if (myData.status === "online") {
                myDot.style.backgroundColor = "#28a745"; // Green
                myText.innerText = "Online";
                myMsg.innerText = myData.message;
            }
        } catch (myError) {
            myDot.style.backgroundColor = "#dc3545"; // Red
            myText.innerText = "Offline";
            myMsg.innerText = "Run 'node myServer.js' to connect.";
        }
    }

    // Check status immediately and then every 10 seconds
    myCheckServerStatus();
    setInterval(myCheckServerStatus, 10000);
</script>
